;[LOCAL_SETUP]
;FILE = templates/localsetup.tmpl.sh
;PLATFORM = LOCAL
;CHECK = true
;NOTIFY_ON = FAILED
;
;[SYNCHRONIZE]
;FILE = templates/synchronize.tmpl.sh
;PLATFORM = meluxina_data_transfer
;DEPENDENCIES = LOCAL_SETUP
;CHECK = true
;NOTIFY_ON = FAILED
;WALLCLOCK = 0:30
;
;[REMOTE_SETUP]
;FILE = sources/runtime/autosubmit/compilation.sh
;EXECUTABLE = /bin/bash -l
;DEPENDENCIES = SYNCHRONIZE
;WALLCLOCK = 2:00
;PROCESSORS = 12
;CUSTOM_DIRECTIVES = ["#SBATCH -N 1", "#SBATCH --hint=nomultithread"]
;CHECK = true
;NOTIFY_ON = FAILED
;
[INI]
FILE = templates/ini.tmpl.sh
#EXECUTABLE = /bin/bash -l
#CUSTOM_DIRECTIVES = ["#SBATCH -N 1", "#SBATCH --hint=nomultithread"]
DEPENDENCIES = REMOTE_SETUP
RUNNING = once
WALLCLOCK = 00:30
CHECK = true
NOTIFY_ON = FAILED
PLATFORM = ecmwf
#EC_QUEUE = hpc
;[SIM]
;FILE = sources/runtime/autosubmit/ece-esm.sh
;EXECUTABLE = /bin/bash -l
;DEPENDENCIES = INI SIM-1 CLEAN-20
;RUNNING = chunk
;WALLCLOCK = 1:30
;PROCESSORS = 896
;THREADS = 1
;CUSTOM_DIRECTIVES = ["#SBATCH -N 7", "#SBATCH --hint=nomultithread"]
;CHECK = on_submission
;NOTIFY_ON = FAILED



#[CMORLPJG]
#FILE = templates/cmor.tmpl.sh
#DEPENDENCIES = SIM
#WALLCLOCK = 2:00
#RUNNING = chunk
#NOTIFY_ON = FAILED
#CUSTOM_DIRECTIVES =  ["#SBATCH --exclusive"]
#QUEUE = debug
#CHECK = true

#[CMORTM5]
#FILE = templates/cmor.tmpl.sh
#DEPENDENCIES = SIM
#WALLCLOCK = 2:00
#RUNNING = chunk
#NOTIFY_ON = FAILED
#CUSTOM_DIRECTIVES = ["#SBATCH --exclusive"]
#QUEUE = debug
#CHECK = true

;[POST]
;FILE = templates/post.tmpl.sh
;EXECUTABLE = /bin/bash -l
;#PLATFORM = nord3v2
;DEPENDENCIES = CMORATM CMORATM+1 CMOROCE SAVEIC SIM SIM+1 POST-1
;RUNNING = chunk
;WALLCLOCK = 01:00
;## when using the classic outclass make sure you are running POST in exclusive mode (for MN4): CUSTOM_DIRECTIVES = ["#SBATCH --exclusive"]
;CHECK = true
;CUSTOM_DIRECTIVES = ["#SBATCH -N 1", "#SBATCH --hint=nomultithread", "#SBATCH --exclusive"]
;NOTIFY_ON = FAILED
;
;[CLEAN]
;FILE = templates/clean.tmpl.sh
;PLATFORM = meluxina_data_transfer
;DEPENDENCIES = POST SIM SIM+1 CMOROCE CMORATM CMORATM+1
;RUNNING = chunk
;WALLCLOCK = 00:30
;CHECK = true
;NOTIFY_ON = FAILED

#[EARTHDIAGS]
#FILE = templates/earthdiags.tmpl.sh
#PLATFORM = nord3v2
#DEPENDENCIES = CLEAN EARTHDIAGS-1
#RUNNING = chunk
#WALLCLOCK = 01:00
#QUEUE = debug
#CHECK = true
#NOTIFY_ON = FAILED

#[MONITOR]
#FILE = templates/monitor.tmpl.py
#PLATFORM = nord3v2
#DEPENDENCIES = EARTHDIAGS
#RUNNING = chunk
#WALLCLOCK = 01:00
#CHECK = true
#TYPE = python
#EXECUTABLE = %PROJDIR%/es-esmvaltool/common-tools/auto-ecearth/nord3v2_launcher
#PROCESSORS = 4
#SKIPPABLE = TRUE
#NOTIFY_ON = FAILED

#[SAVEIC]
#FILE = templates/saveic.tmpl.sh
#DEPENDENCIES = SIM
#RUNNING = chunk
#WALLCLOCK = 00:40
#CHECK = true
#THREADS = 12
#QUEUE = debug
#NOTIFY_ON = FAILED

;[CLEAN_MEMBER]
;FILE = templates/clean_member.tmpl.sh
;PLATFORM = meluxina_data_transfer
;DEPENDENCIES = CLEAN PERFORMANCE_METRICS SAVEIC
;RUNNING = member
;WALLCLOCK = 02:00
;CHECK = true
;NOTIFY_ON = FAILED

#[PERFORMANCE_METRICS]
#FILE = templates/performance_metrics.tmpl.sh
#DEPENDENCIES = CLEAN
#RUNNING = once
#PROCESSORS = 1
#PLATFORM = LOCAL
#CHECK = true
#NOTIFY_ON = FAILED

;[TRANSFER_MEMBER]
;FILE = templates/transfer_member.tmpl.sh
;PLATFORM = transfer_node_bscearth000
;DEPENDENCIES = CLEAN_MEMBER
;RUNNING = member
;CHECK = true
;NOTIFY_ON = FAILED

#[NCTIME]
#FILE = templates/nctime.tmpl.sh
#PLATFORM = nord3v2
#DEPENDENCIES = NCTIME-1 CLEAN CLEAN-1 CLEAN-2
#RUNNING = chunk
#FREQUENCY = 3
#CHECK = true
#WALLCLOCK = 01:00
#NOTIFY_ON = FAILED

;[CLEAN_EXPERIMENT]
;FILE = templates/clean_experiment.tmpl.sh
;DEPENDENCIES = NCTIME TRANSFER_MEMBER EARTHDIAGS
;PLATFORM = meluxina_data_transfer
;RUNNING = once
;WALLCLOCK = 00:30
;CHECK = true
;NOTIFY_ON = FAILED
